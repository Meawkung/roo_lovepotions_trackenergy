# Love Potion - Enemy Energy Tracker & Player HP Monitor

เครื่องมือช่วยติดตามค่า Energy โดยประมาณของฝ่ายตรงข้าม, คำนวณสถิติการเล่น, และ **แสดงผล HP ของผู้เล่นพร้อม Health Bar** สำหรับเกม Love Potion (ตามกติกาที่กำหนด) สร้างด้วย HTML, CSS และ JavaScript แบบ Vanilla

## คำอธิบาย

โปรเจกต์นี้มีเป้าหมายเพื่อช่วยผู้เล่นเกม Love Potion ในการตัดสินใจเชิงกลยุทธ์ โดยการ:

1.  **ติดตาม Energy:** คำนวณและแสดงค่า Energy ที่คาดว่าฝ่ายตรงข้ามจะมีในแต่ละรอบ
2.  **ติดตาม Player HP:** แสดง HP ปัจจุบันของผู้เล่น พร้อม **Health Bar** ที่เปลี่ยนสีตามระดับ HP (เขียว/เหลือง/แดง) และลดลงเมื่อผู้เล่นได้รับ Damage
3.  **สถานะ Game Over:** เมื่อ HP ผู้เล่นเหลือ 0, Tracker จะเข้าสู่สถานะ Game Over, ปิดใช้งานปุ่มการ์ดและปุ่ม "ถัดไป"
4.  **คาดการณ์:** ช่วยให้ผู้เล่นคาดเดาการ์ดที่ฝ่ายตรงข้าม *น่าจะ* เล่นได้ โดยดูจาก Energy ที่มี (ปุ่มการ์ดที่ใช้ Energy เกินจะถูก Disable)
5.  **วิเคราะห์สถิติ:**
    *   **สถิติรวม:** บันทึกการ์ดที่ผู้เล่น *คาดการณ์* ว่าฝ่ายตรงข้ามเล่นในแต่ละรอบ และแสดงความน่าจะเป็น (เปอร์เซ็นต์) ที่การ์ดแต่ละใบจะถูกเลือกในอนาคต โดยอิงจากข้อมูลสถิติ *ทั้งหมด* ที่บันทึกไว้
    *   **สถิติตามเงื่อนไข:** แสดงความน่าจะเป็นที่ฝ่ายตรงข้ามจะเล่นการ์ดแต่ละใบ *เมื่อมี Energy จำนวน X* (ตาม Energy ที่คำนวณได้ในรอบปัจจุบัน)
6.  **ข้อมูลถาวร:** สถิติการเล่น (รวมและตามเงื่อนไข) จะถูกบันทึกไว้ใน `localStorage` ของเบราว์เซอร์ ทำให้ข้อมูลไม่หายไปเมื่อรีเฟรชหน้า หรือปิด/เปิดเบราว์เซอร์ใหม่

**สำคัญ:** Tracker นี้ทำงานโดยอิงตาม *การคาดการณ์* ของผู้ใช้ว่าฝ่ายตรงข้ามเล่นการ์ดใบไหน ความแม่นยำของ Energy, สถิติ, และ **การลด HP ของผู้เล่น** จะขึ้นอยู่กับความแม่นยำในการคาดการณ์ของคุณ

## Features หลัก

*   **Energy Tracking:** คำนวณและแสดง Energy ของฝ่ายตรงข้าม ณ *ต้นรอบ* (รวม Bonus)
*   **Player HP Tracking:** แสดง HP ผู้เล่นปัจจุบัน พร้อม **Health Bar** แสดงผลแบบกราฟิก
*   **Game Over State:** ระบบหยุดการทำงานเมื่อ HP ผู้เล่นหมด
*   **UI การ์ด:** แสดงการ์ดเป็นรูปภาพ (ต้องกำหนด Path เอง) พร้อมข้อมูล Cost/Gain
*   **รองรับกติกา:**
    *   Energy เริ่มต้น 2 แต้ม
    *   Player HP เริ่มต้น 7 แต้ม
    *   ฟื้นฟู Energy +1 อัตโนมัติในรอบ 3, 6, 9, 12, 15,...
    *   คำนวณ Cost ของการ์ดแต่ละใบ
    *   คำนวณ Damage ที่ผู้เล่นได้รับจากการ์ดโจมตีของฝ่ายตรงข้าม (ตามการคาดการณ์)
*   **Disable ปุ่ม:** ปุ่มการ์ดที่คาดว่าฝ่ายตรงข้ามมี Energy ไม่พอเล่น หรือเมื่อ Game Over จะถูก Disable อัตโนมัติ
*   **ประวัติเกมปัจจุบัน:** แสดงรายการการ์ดที่คาดการณ์ว่าเล่นในแต่ละรอบของ *เกมปัจจุบัน*
*   **สถิติความน่าจะเป็น (Persistent):**
    *   แสดงความถี่รวมของการ์ดแต่ละใบ
    *   แสดงความถี่ของการ์ดแต่ละใบตามเงื่อนไข Energy ที่มี ณ ต้นรอบ
*   **สถิติถาวร:** ใช้ `localStorage` เพื่อเก็บสถิติข้าม Session
*   **Responsive Design:** ปรับ Layout ให้แสดงผลได้ดีบน Desktop, Tablet และ Mobile
*   **Layout สองคอลัมน์:** บนหน้าจอขนาดใหญ่ แยกส่วน Tracker และส่วนข้อมูล (History/Stats)
*   **Modular JavaScript:** โค้ด JavaScript ถูกแบ่งเป็นไฟล์ย่อยตามหน้าที่เพื่อความง่ายในการจัดการ

## กติกาเกม Love Potion ที่ใช้

*   **การ์ด:**
    *   `First Love`: Cost 1, Damage 1
    *   `Deep Love`: Cost 2, Damage 3
    *   `Cold Wall`: Cost 1, ป้องกัน 3 Damage (ไม่ทำ Damage)
    *   `Iron Wall`: Cost 1, สะท้อน 1 Damage (ไม่ทำ Damage โดยตรง)
    *   `Magic Boost`: Cost 0, ฟื้นฟู 1 Energy (ไม่ทำ Damage)
*   **การต่อสู้:** ลด HP ฝ่ายตรงข้ามให้หมดก่อนชนะ (HP ผู้เล่นเริ่มต้น 7)
*   **รูปแบบ:** เลือกการ์ด 1 ใบพร้อมกัน -> เปิดพร้อมกัน -> คิดผลพร้อมกัน
*   **Energy:**
    *   เริ่มต้น: 2 Energy (รอบ 1)
    *   ฟื้นฟูอัตโนมัติ: +1 Energy ในทุกๆ 3 รอบ (รอบ 3, 6, 9, 12, 15, ...)

*   **วิธีเล่นกับ Tracker:**
    *   ดู **Player HP** และ **Opponent Energy** ที่แสดง ณ ต้นรอบ
    *   เมื่อถึงตาเลือกการ์ดพร้อมกัน ให้คุณ *คาดการณ์* ว่าฝ่ายตรงข้ามเล่นการ์ดใบไหน แล้วคลิกที่รูปการ์ดใบนั้นบน Tracker
    *   กดปุ่ม "**ยืนยัน / รอบถัดไป**"
    *   Tracker จะ:
        *   ลด Player HP ของคุณ (ถ้าการ์ดที่คาดการณ์ทำ Damage)
        *   คำนวณ Energy ใหม่ของฝ่ายตรงข้าม
        *   อัปเดต History และสถิติ
        *   เลื่อนไปยังรอบถัดไป
        *   แสดงผล HP และ Energy ใหม่
    *   ทำซ้ำไปเรื่อยๆ จนกว่า Player HP จะหมด (Game Over)
*   **รีเซ็ตเกม:** กดปุ่ม "**รีเซ็ตเกม**" เพื่อเริ่มติดตามเกมใหม่ (เริ่มรอบ 1, Energy 2, HP เต็ม) **สถิติความน่าจะเป็นจะไม่ถูกรีเซ็ต**
*   **เคลียร์สถิติ:** หากต้องการล้างสถิติที่บันทึกไว้ทั้งหมด สามารถเพิ่มปุ่ม "เคลียร์สถิติ" (โค้ดส่วนนี้ถูก comment ไว้ใน `js/main.js`) หรือล้างข้อมูลเว็บไซต์สำหรับหน้านี้ผ่านการตั้งค่าของเบราว์เซอร์

## Technology ที่ใช้

*   HTML5
*   CSS3 (Flexbox, Transitions)
*   JavaScript (ES6+ Modules, Vanilla JS)
*   Web Storage API (`localStorage`)

## ข้อจำกัด / แนวทางการพัฒนาต่อ

*   ความแม่นยำขึ้นอยู่กับการคาดการณ์ของผู้ใช้
*   ยังไม่ได้ Track HP ของฝ่ายตรงข้าม (ซึ่งเป็นเป้าหมายหลักของเกม)
*   สถิติยังไม่ได้พิจารณาเงื่อนไขซับซ้อน เช่น การ์ดในมือ, การ์ดที่เพิ่งเล่นไป
*   ไม่ได้จำลองผลของการ์ดป้องกัน (Cold Wall, Iron Wall) ต่อ Damage จริง
*   สามารถเพิ่ม Animation หรือ Sound Effects